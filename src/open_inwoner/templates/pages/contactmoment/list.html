{% extends 'master.html' %}
{% load i18n anchor_menu_tags card_tags grid_tags icon_tags link_tags list_tags pagination_tags utils %}

{% block content %}
    <h1 class="utrecht-heading-1" id="contactmomenten">{{ page_title }} ({{ contactmomenten|length }})</h1>

    <div class="contactmomenten">
        {% render_grid %}
            {% for contactmoment in page_obj.object_list %}
                {% render_column start=forloop.counter_0|multiply:4 span=4 %}
                <div class="card card--compact card--stretch">
                    <div class="card__body">
                        <a href="{{ contactmoment.url }}" class="contactmomenten__link">
                            {% render_list %}
                                <span class="contactmomenten-list">
                                {% list_item contactmoment.registered_date caption=_("Ontvangstdatum") compact=True strong=False %}
                                {% list_item contactmoment.channel caption=_("Contactwijze") compact=True strong=False %}
                                {% list_item contactmoment.status caption=_("Status") compact=True strong=False %}
                                {% if contactmoment.onderwerp %}
                                    {% list_item contactmoment.onderwerp|truncatechars:25 caption=_("Onderwerp") compact=True strong=False %}
                                {% else %}
                                    {% list_item contactmoment.text|truncatechars:25 caption=_("Bericht") compact=True strong=False %}
                                {% endif %}
                                </span>
                            {% endrender_list %}

                            <span class="link link--icon link--secondary" aria-label="{% trans "Bekijk vraag" %}" title="{% trans "Bekijk vraag" %}">
                                <span class="link__text">{% trans "Bekijk vraag" %}</span>
                                {% icon icon="arrow_forward" icon_position="after" primary=True outlined=True %}
                            </span>
                        </a>
                    </div>
                </div>
                {% endrender_column %}
            {% endfor %}
        {% endrender_grid %}
    </div>

    {% if contactmomenten %}
        {% pagination page_obj=page_obj paginator=paginator request=request %}
    {% endif %}
{% endblock content %}
